<!doctype html>
<html>
    <head>
        <title>SimpleFIN Protocol</title>
        <link href="/css/bootstrap.min.css" rel="stylesheet" />
        <link href="/css/bootstrap-responsive.css" rel="stylesheet" />
        <link href="/css/simplefin.css" rel="stylesheet" media="all" />
        <link href="/css/print.css" rel="stylesheet" media="print" />
    </head>
    <body>
        <div class="content">
            





<div class="title"><img src="/img/logo.svg" class="logo"> SimpleFIN Protocol</div>



<div class="container-fluid">
  <div class="row-fluid">
    <div class="span8 offset2">
      <div class="navlinks">
        <div class="centerer">
        <a href="/" >Home</a>
        <a href="/protocol.html" class="active">Protocol</a>
        <a href="/examples.html" >Examples</a>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="container-fluid">

  <div class="row-fluid section">
    <div class="content span8 offset2">

      <p>
        The SimpleFIN standard defines:
      </p>

      <ol class="std">
        <li><a href="#data-format">SimpleFIN data format</a></li>
        <li><a href="#http-protocol">SimpleFIN HTTP protocol</a></li>
        <li><a href="#recommendations">Recommendations for token management</a></li>
      </ol>

      <h2 class="no-page"><a class="clickanchor" name="data-format" href="#data-format">&sect;</a>Data format</h2>

      <ul class="std">
        <li>Data is encoded as JSON strings.</li>
        <li>All attributes are required unless otherwise noted.</li>
      </ul>

      <p>
        These objects are defined by SimpleFIN (more details below):
      </p>

      <ul class="std">
        <li><a href="#organization">Organization</a></li>
        <li><a href="#account">Account</a></li>
        <li><a href="#transaction">Transaction</a></li>
        <li><a href="#account-set">Account Set</a></li>
      </ul>

      

      <div class="object">
        <h3 class="object-name"><a class="clickanchor" name="organization" href="#organization">&sect;</a>Organization</h3>


        <div class="print-chunk">
          <h4><a class="clickanchor" name="organization-example" href="#organization-example">&sect;</a>Example</h4>
          <div class="code-block">{
  "domain": "mybank.com",
  "sfin-url": "https://sfin.mybank.com"
}</div>
        </div>

        <h4><a class="clickanchor" name="organization-attributes" href="#organization-attributes">&sect;</a>Attributes</h4>
        
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="organization.domain" href="#organization.domain">&sect;</a>domain</div>
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description">The domain name of an organization with financial data.</div>
              
              <div class="attr-example code-block">"example.com"</div>
              
            </div>
          </div>
        </div>
      

        
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="organization.sfin-url" href="#organization.sfin-url">&sect;</a>sfin-url</div>
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              <div class="attr-optional">optional</div>
              <div class="attr-description">URL of organization's SimpleFIN root endpoint.  If provided, the domain of the URL must match <a href="#organization.domain" class="attr-ref">domain</a>.</div>
              
              <div class="attr-example code-block">"https://www.example.com/sfin"</div>
              
            </div>
          </div>
        </div>
      

      </div>


      <div class="object">
        <div class="print-chunk">
          <h3 class="object-name"><a class="clickanchor" name="account" href="#account">&sect;</a>Account</h3>

          <h4><a class="clickanchor" name="account-example" href="#account-example">&sect;</a>Example</h4>
          <div class="code-block">{
  "org": {
    "domain": "mybank.com",
    "sfin-url": "https://sfin.mybank.com"
  },
  "id": "2930002",
  "name": "Savings",
  "currency": "USD",
  "balance": "100.23",
  "available-balance": "75.23",
  "balance-as-of": "AO334",
  "last-transaction-posted": "1995-02-17T23:56:12.22239",
  "transactions": [
    {
      "id": "AO334",
      "posted": "1995-02-17T23:56:12.22239",
      "amount": "-33293.43",
      "description": "Uncle Frank's Bait Shop",
    }
  ]
}</div>
        </div>

          <h4><a class="clickanchor" name="account-attributes" href="#account-attributes">&sect;</a>Attributes</h4>
          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="account.org" href="#account.org">&sect;</a>org</div>
            <div class="span9">
              <div><span class="attr-type"><a href="#organization">Organization</a></span></div>
              
              <div class="attr-description">Organization from which
              this account originates.  If this is a bank account,
              this field will be the bank's organization.</div>
              
              <div class="attr-example code-block">{
  "domain": "example.com",
  "sfin-url": "https://www.example.com/sfin"
}</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="account.id" href="#account.id">&sect;</a>id</div>
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description">An ID that uniquely identifies an account within the
              account's organization.  It is recommended that this
              id be chosen such that it does not reveal
              any sensitive data (login information for the bank's
              web banking portal, for instance).</div>
              
              <div class="attr-example code-block">"123"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="account.name" href="#account.name">&sect;</a>name</div>
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description">A name that uniquely describes an account among all the
              users other accounts.
              This name should be chosen so that a person can easily associate
              it with only one of their accounts within an organization.</div>
              
              <div class="attr-example code-block">"Money-Market Checking"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="account.currency" href="#account.currency">&sect;</a>currency</div>
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description"><p>
              If the currency is a standard currency, use the currency code from the <a href="http://www.iso.org/iso/home/standards/currency_codes.htm" target="_blank">official ISO 4217</a> (or see <a href="http://en.wikipedia.org/wiki/ISO_4217" target="_blank">the Wikipedia article</a>)  For example:
            </p>

            <div class="attr-example code-block">"ZMW"</div>
            <div class="attr-example code-block">"GBP"</div>

            <p>
              Custom/proprietary currencies are also supported.  For instance, rewards points or frequent flier miles are a type of "currency."  To indicate a custom currency supply a URL as the value.  For example:
            </p>

            <div class="attr-example code-block">"https://www.example.com/currency/rewardpoints"</div>

            <p>
              Making an unauthenticated <span class="url">GET</span> request to the URL should return an <span class="url">application/json</span> response representing an object with at least a <span class="attr-ref">name</span> attribute with a human-readable string name for the currency as the value.  For example, here is an acceptable response:
            </p>

            <div class="attr-example code-block">{ "name": "Reward Points" }</div></div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="account.balance" href="#account.balance">&sect;</a>balance</div>
            <div class="span9">
              <div><span class="attr-type">numeric string</span></div>
              
              <div class="attr-description">The balance of the account as of
              <a class="attr-ref" href="#account.balance-as-of">balance-as-of</a>.</div>
              
              <div class="attr-example code-block">"22.33"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="account.available-balance" href="#account.available-balance">&sect;</a>available-balance</div>
            <div class="span9">
              <div><span class="attr-type">numeric string</span></div>
              <div class="attr-optional">optional</div>
              <div class="attr-description">The available balance of the account as of
              <a class="attr-ref" href="#account.balance-as-of">balance-as-of</a>.  This
              may be omitted if it is the same as <a class="attr-ref" href="#account.balance">balance</a>.</div>
              
              <div class="attr-example code-block">"15.33"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="account.balance-as-of" href="#account.balance-as-of">&sect;</a>balance-as-of</div>
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description"><p>
              The <a class="attr-ref" href="#transaction.id">Transaction.id</a> of the transaction that resulted in the <a class="attr-ref" href="#account.balance">balance</a> and <a class="attr-ref" href="#account.available-balance">available-balance</a> of this Account.
            </p>

            <p>
              If <a class="attr-ref" href="#account.transactions">transactions</a> are included in this object, then <a class="attr-ref" href="#account.balance-as-of">balance-as-of</a> <em>must</em> be the <a class="attr-ref" href="#transaction.id">id</a> of the most recent <a href="#transaction">Transaction</a> in the list.
            </p>

            <p>
              If <a class="attr-ref" href="#account.transactions">transactions</a> are <strong>not</strong> included in this object, then <a class="attr-ref" href="#account.balance-as-of">balance-as-of</a> <em>must</em> be the <a class="attr-ref" href="#transaction.id">id</a> of the most recent <a href="#transaction">Transaction</a> on record.
            </p></div>
              
              <div class="attr-example code-block">"83940394098343ABCFKDSDF89"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="account.last-transaction-posted" href="#account.last-transaction-posted">&sect;</a>last-transaction-posted</div>
            <div class="span9">
              <div><span class="attr-type">ISO string timestamp</span></div>
              
              <div class="attr-description">This is always the <a class="attr-ref" href="#transaction.posted">posted</a> attribute of this account's most recent <a href="#transaction">Transaction</a> on record, regardless of what <a class="attr-ref" href="#account.transactions">transactions</a> is.</div>
              
              <div class="attr-example code-block">"2001-01-17T22:59:33.9081"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="account.transactions" href="#account.transactions">&sect;</a>transactions</div>
            <div class="span9">
              <div><span class="attr-type">list of <a href="#transaction">Transactions</a></span></div>
              <div class="attr-optional">optional</div>
              <div class="attr-description">List of a subset of <a href="#transaction">Transactions</a> for
              this account, ordered by <a class="attr-ref" href="#transaction.posted">posted</a>.</div>
              
              <div class="attr-example code-block">[{
  "id": "AO334",
  "posted": "2001-01-01T09:22:33.2343",
  "amount": "-22.33",
  "memo": "John's Pizza Pie Cafe and Spa",
  "sic": "2354"
}]</div>
              
            </div>
          </div>
        </div>
      
        </div>

        <div class="object">
          <div class="print-chunk">
            <h3><a class="clickanchor" name="transaction" href="#transaction">&sect;</a>Transaction</h3>
          
            <h4><a class="clickanchor" name="transaction-example" href="#transaction-example">&sect;</a>Example</h4>

            <div class="code-block">{
  "id": "12394832938403",
  "posted": "1995-02-17T23:56:12.22239",
  "amount": "-33293.43",
  "description": "Uncle Frank's Bait Shop",
}</div>
          </div>


          <h4><a class="clickanchor" name="transaction-attributes" href="#transaction-attributes">&sect;</a>Attributes</h4>

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="transaction.id" href="#transaction.id">&sect;</a>id</div>
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description">An ID that uniquely describes a transaction within an
              Account.  An organization may reuse transaction ids
              for different accounts, but may never reuse a
              transaction id within an account.</div>
              
              <div class="attr-example code-block">"9990203-3840394"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="transaction.posted" href="#transaction.posted">&sect;</a>posted</div>
            <div class="span9">
              <div><span class="attr-type">ISO string timestamp</span></div>
              
              <div class="attr-description">This is when the transaction happened.
              The timezone must be GMT.</div>
              
              <div class="attr-example code-block">"2015-01-01T10:00:03.23434"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="transaction.amount" href="#transaction.amount">&sect;</a>amount</div>
            <div class="span9">
              <div><span class="attr-type">numeric string</span></div>
              
              <div class="attr-description">Amount of transaction.  Positive numbers indicate money
              being deposited into the account.</div>
              
              <div class="attr-example code-block">"90.28"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="transaction.description" href="#transaction.description">&sect;</a>description</div>
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description">A human-readable description of what the transaction was for.</div>
              
              <div class="attr-example code-block">"Bob's Grocery Store - 22 S. Main"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="transaction.sic" href="#transaction.sic">&sect;</a>sic</div>
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              <div class="attr-optional">optional</div>
              <div class="attr-description">Not yet defined.</div>
              
            </div>
          </div>
        </div>
      

        </div>

        <div class="object">

          <div class="print-chunk">
            <h3><a class="clickanchor" name="account-set" href="#account-set">&sect;</a>Account Set</h3>
          
            <h4><a class="clickanchor" name="account-set-example" href="#account-set-example">&sect;</a>Example</h4>

            <div class="code-block">{
  "accounts": [
    {
      "org": {
        "domain": "mybank.com",
        "sfin-url": "https://sfin.mybank.com"
      },
      "id": "2930002",
      "name": "Savings",
      "currency": "USD",
      "balance": "100.23",
      "available-balance": "75.23",
      "balance-as-of": "AO334",
      "last-transaction-posted": "2013-07-29T19:22:09.210",
      "transactions": []
    }
  ]
}</div>
          </div>

          <h4><a class="clickanchor" name="account-set-attributes" href="#account-set-attributes">&sect;</a>Attributes</h4>

          
        <div class="attr-def">
          <div class="row-fluid">
            <div class="span3 attr-name"><a class="clickanchor" name="account-set.accounts" href="#account-set.accounts">&sect;</a>accounts</div>
            <div class="span9">
              <div><span class="attr-type">list of <a href="#account">Accounts</a></span></div>
              
              <div class="attr-description">A list of <a class="attr-ref" href="#account">Account</a> objects.  Order does not matter.</div>
              
            </div>
          </div>
        </div>
      
        </div>
    </div>
  </div>


  <div class="row-fluid section">
    <div class="content span8 offset2">
      <h2><a class="clickanchor" name="http-protocol" href="#http-protocol">&sect;</a>HTTP Protocol</h2>

      <h4><a class="clickanchor" name="players" href="#players">&sect;</a>Players</h4>

      <dl>
        <dt><a class="clickanchor" name="the-company" href="#the-company">&sect;</a>The Company</dt>
        <dd>
          This is a bank or other institution that people have accounts with.
        </dd>
        
        <dt><a class="clickanchor" name="server" href="#server">&sect;</a>Server</dt>
        <dd>
          An HTTP server operated by <span class="term">The Company</span>.  The <span class="term">Server</span> must require SSL for all communication with both the <span class="term">Browser</span> and the <span class="term">Reader</span>.  Connection attempts not
          over SSL must be dropped -- they must not be redirected to SSL.
        </dd>
        
        <dt><a class="clickanchor" name="account-holder" href="#account-holder">&sect;</a>Account holder</dt>
        <dd>
          This is a person (or business) that has an account with <span class="term">The Company</span>.
        </dd>
        
        <dt><a class="clickanchor" name="browser" href="#browser">&sect;</a>Browser</dt>
        <dd>
          A web browser being used by an <span class="term">Account holder</span>.
        </dd>
        
        <dt><a class="clickanchor" name="reader" href="#reader">&sect;</a>Reader</dt>
        <dd>
          A <span class="term">Reader</span> is a piece of software that connects to a <span class="term">Server</span> to retrieve financial information pertaining to an <span class="term">Account holder</span>.  The <span class="term">Reader</span> may be a web app or a locally-run application.  The <span class="term">Reader</span> <strong>only</strong> has read access to the <span class="term">Server</span>.  The <span class="term">Reader</span> <strong>can not</strong> alter the financial data on the <span class="term">Server</span> in any way.
        </dd>

      </dl>

      <div class="print-chunk">
        <h4><a class="clickanchor" name="pieces" href="#pieces">&sect;</a>Pieces</h4>

        <dl>
          <dt>Access token</dt>
          <dd>
            An <span class="term">Access token</span> is the string used by the <span class="term">Reader</span> to authenticate with the <span class="term">Server</span>.  See <a href="#access-token" class="term">Access token</a> for details.
          </dd>

          <dt>Setup token</dt>
          <dd>
            A <span class="term">Setup token</span> is the token given to the <span class="term">Reader</span> by the <span class="term">Account holder</span>.  It includes an <span class="term">Access token</span>.  See <a href="#setup-token" class="term">Setup token</a> for more details.
          </dd>
        </dl>
      </div>

      <div class="print-chunk">
        <h4><a class="clickanchor" name="protocol-overview" href="#protocol-overview">&sect;</a>Overview</h4>

        <p>
          Here is an overview of how the SimpleFIN protocol works:
        </p>

        <ol class="std">
          <li>
            The <span class="term">Account holder</span> uses a <span class="term">Browser</span> to visit the <span class="term">Server</span>, authenticate, and generate a new <span class="term">Setup token</span>.
          </li>
          
          <li>
            The <span class="term">Account holder</span> gives the <span class="term">Setup token</span> to the <span class="term">Reader</span>.  The <span class="term">Reader</span> extracts the <span class="term">Access token</span> from the <span class="term">Setup token</span>.
          </li>

          <li>
            The <span class="term">Reader</span> connects to the <span class="term">Server</span> (authenticating with the <span class="term">Access token</span>) and requests some portion of the <span class="term">Account holder's</span> financial information.
          </li>

          <li>
            The <span class="term">Reader</span> reuses the <span class="term">Access token</span> until it expires or is otherwise rendered invalid.
          </li>
        </ol>
      </div>

      <div class="print-chunk">
        <h4><a class="clickanchor" name="access-token" href="#access-token">&sect;</a>Access token</h4>

        <ul class="std">
          <li>
            Access tokens must be at least 40 characters in length.  <span class="term">The Company</span> may choose the length of token for their <span class="term">Server</span>.
          </li>

          <li>
            Access tokens must be made up of only the following set of characters:
            <div class="code-block">abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-</div>
          </li>

          <li>
            Access tokens must be mostly random.  Ideally, the token will be completely random.
          </li>

          <li>
            Access tokens must not be based on, or have the potential to reveal <span class="term">Account holder</span> credentials for <span class="term">The Company</span>.  A stolen <span class="term">Access token</span> should not reveal anything to the attacker which would allow the attacker to access the <span class="term">Account holder's</span> account (other than through the SimpleFIN protocol).
          </li>
        </ul>
      </div>


      <div class="print-chunk">
        <h4><a class="clickanchor" name="setup-token" href="#setup-token">&sect;</a>Setup token</h4>

        <p>
          Setup tokens are Base64 encoded strings containing the URL for a <span class="term">Server's</span> SimpleFIN root URL and an <a href="#access-token">Access token</a>.  Here is a generic code description of the format:
        </p>

        <div class="code-block">base64encode(sfin_url + '\n' + access_token)</div>

        
        
        <p>
          For example, if my <span class="term">Server's</span> SimpleFIN root URL is:
        </p>
        <div class="code-block">https://sfin.example.com/foo/bar</div>
        <p>
          and I have generated this <span class="term">Access token</span>:
        </p>
        <div class="code-block">18KadNuTXEnCS97rt3PGT9UjTVvL2PvochYN-Dhc</div>

        <p>
          then the decoded <span class="term">Setup token</span> is:
        </p>
        <div class="code-block">https://sfin.example.com/foo/bar
18KadNuTXEnCS97rt3PGT9UjTVvL2PvochYN-Dhc</div>

        <p>
          and the Base64 encoded <span class="term">Setup token</span> is:
        </p>
        <div class="code-block">aHR0cHM6Ly9zZmluLmV4YW1wbGUuY29tL2Zvby9iYXIKMThLYWROdVRYRW5DUzk3cnQzUEdUOVVq
VFZ2TDJQdm9jaFlOLURoYw==
</div>
      </div>


      <h4><a class="clickanchor" name="url-endpoints" href="#url-endpoints">&sect;</a>URL Endpoints</h4>

      <p>
        <span class="term">The Company</span> may choose the root URL for their <span class="term">Server</span>.  The URLs defined here are relative to the root URL.  The <a class="attr-ref" href="#organization.sfin-url">sfin-url</a> attribute is the root URL.
      </p>

      

      
      <div class="row-fluid url-endpoint">
        <div class="span3 url">
          GET /auth
        </div>
        <div class="span9 description">
          
        Returns an HTML page that the <span class="term">Account holder</span> can use to manage <span class="term">Access Tokens</span>.
        This URL is used by the <span class="term">Browser</span>.
        </div>
      </div>
      

      
      <div class="row-fluid url-endpoint">
        <div class="span3 url">
          GET /accounts
        </div>
        <div class="span9 description">
          
        Returns a list of available <a href="#account">Accounts</a>.
        This URL is used by the <span class="term">Reader</span>.
        </div>
      </div>
      

      <p>
        Following are the details of each of the above URLs:
      </p>


      <div class="print-chunk">
        <h3 class="url"><a class="clickanchor" name="/auth" href="#/auth">&sect;</a>GET /auth</h3>

        <p>
          This URL should land the <span class="term">Browser</span> on a web page that an <span class="term">Account holder</span> can use to generate and otherwise manage <span class="term">Setup tokens</span>.  The actual implementation of token management is up to <span class="term">The Company</span>.  However, please note the <a href="#recommendations">recommendations</a> below.
        </p>

        <p>
          <span class="term">Readers</span> will direct users to this URL if tokens are needed.
        </p>

        <p>
          <span class="term">Account holders</span> must be authenticated to access this page.  It is acceptable to redirect from this URL to
          another URL (in fact, we suspect that many <span class="term">Servers</span> will simply redirect the user to a different URL).
        </p>
      </div>
      
      <div class="print-chunk">
        <h3 class="url"><a class="clickanchor" name="/accounts" href="#/accounts">&sect;</a>GET /accounts</h3>

        <p>
          Returns an <a href="#account-set">Account Set</a> containing all accounts the requester is authorized to see.  This URL is intended
          for <span class="term">Readers</span>.
        </p>

        <ul class="std">
          <li>
            The <span class="code">Content-Type</span> of the response is always <span class="code">application/json</span>.
          </li>
          <li>
            If no query paramters are included in a request, then all the <a class="attr-ref" href="#account.transactions">Account.transactions</a> attributes will be empty lists.
          </li>
        </ul>
      </div>

      <div class="print-chunk">
        <h4><a class="clickanchor" name="authentication" href="#authentication">&sect;</a>Authentication</h4>

        <p>
          HTTP Bearer Authentication is used.  In every request, the client
          sends an <span class="code">Authentication</span> header of the format:
        </p>

        <div class="code-block">Authentication: Bearer ACCESS_TOKEN</div>

        <p>
          where <span class="code">ACCESS_TOKEN</span> is an <a href="#access-token">Access token</a>
        </p>
      </div>

      <h4><a class="clickanchor" name="accounts-query" href="#accounts-query">&sect;</a>Optional query parameters</h4>

      


      
      <div class="row-fluid query-param">
        <div class="span3 code">
          <a class="clickanchor" name="accounts-query-start-date" href="#accounts-query-start-date">&sect;</a>start-date
        </div>
        <div class="span9">
          <div class="description">
        If given, transactions <em>on or after</em> the supplied date or timestamp will be included in the response.
      </div>
          
          <div class="example code-block">?start-date=2001-05-15</div>
          
          <div class="example code-block">?start-date=2001-05-15T09:08:35.234</div>
          
        </div>
      </div>
      

      
      <div class="row-fluid query-param">
        <div class="span3 code">
          <a class="clickanchor" name="accounts-query-end-date" href="#accounts-query-end-date">&sect;</a>end-date
        </div>
        <div class="span9">
          <div class="description">
        If given, only transactions <em>before</em> the supplied date or timestamp will be returned.  Transactions with a <a class="attr-ref" href="#transaction.posted">posted</a> date equal to this date/timestamp will <em>not</em> be returned.

        For instance, querying for
        <div class="example code-block">?start-date=2001-05-01&end-date=2001-06-01</div>
        will return all transactions from May, 2001.
      </div>
          
        </div>
      </div>
      

      <div class="print-chunk">
        <h4><a class="clickanchor" name="accounts-sample-response" href="#accounts-sample-response">&sect;</a>Sample response body</h4>

        <div class="code-block">{
  "accounts": [
    {
      "org": {
        "domain": "mybank.com",
        "sfin-url": "https://sfin.mybank.com"
        },
      "id": "2930002",
      "name": "Savings",
      "currency": "USD",
      "balance": "100.23",
      "available-balance": "75.23",
      "balance-as-of": "AO334",
      "last-transaction-posted": "2013-07-29T19:09:23.544"
    }
  ]
}</div>
      </div>

      <div class="print-chunk">
        <h4><a class="clickanchor" name="accounts-errors" href="#accounts-errors">&sect;</a>Errors</h4>

        <p>
          Following are possible error responses:
        </p>

        

        
        <div class="row-fluid error-response">
          <div class="span3 code">
            <a class="clickanchor" name="accounts-error-403 Forbidden" href="#accounts-error-403 Forbidden">&sect;</a>403 Forbidden
          </div>
          <div class="span9">
            
          If the requester is not authenticated or an invalid token is used.
        
          </div>
        </div>
        

        
        <div class="row-fluid error-response">
          <div class="span3 code">
            <a class="clickanchor" name="accounts-error-410 Gone" href="#accounts-error-410 Gone">&sect;</a>410 Gone
          </div>
          <div class="span9">
            
          If <span class="url">start-date</span> specifies a date for which
          transaction data is no longer available (or was never available).
        
          </div>
        </div>
        
      </div>

    </div>
  </div>


  <div class="row-fluid section">
    <div class="content span8 offset2">

      <h2><a class="clickanchor" name="recommendations" href="#recommendations">&sect;</a>Recommendations</h2>

      <p>
        It is <em>recommended</em> that <span class="term">Account holders</span> have the following abilities regarding token management:
      </p>

      <ol class="std">
        <li>
          Users can associate user-provided names with tokens (e.g. "This is the token being used by example.com").
        </li>
        <li>
          Users can create many tokens (for providing to multiple third party services).
        </li>
        <li>
          Users can choose an expiration date for tokens when creating them.
        </li>
        <li>
          Users can manually invalidate/expire existing tokens at
          will.  This is useful in the case of stolen tokens or abuse
          by third parties to whom tokens were given.
        </li>
      </ol>

      <p>
        Additionally, consider the following when implementing a token
        management system:
      </p>

      <ol class="std">
        <li>
          It may be nice to notify users prior to token expiration.
        </li>
        <li>
          It may be nice to allow users to temporarily disable all tokens and later re-enable them.  This can be used to prevent access while doing research into abuse.
        </li>
        <li>
          Consider providing logging/audit information regarding token use, including the time tokens were used and the IPs from which requests came.
        </li>
        <li>
          Allow tokens to be associated with a subset of available accounts.  For instance, allow the user to create one token for access to just their checking account, and another token for access to just their savings account.
        </li>
      </ol>

    </div>
  </div>
</div>


        </div>
        <script src="/js/bootstrap.min.js"></script>
    </body>
</html>
