---
layout: default
title: SimpleFIN
---

<div class="title">SimpleFIN</div>

<div class="container-fluid">
  
  <div class="section row-fluid">
    <div class="content span8 offset2">
      <h2>Introduction</h2>
      <p>SimpleFIN (also SFIN) stands for Simple Financial Interchange
        and aims to make read-only financial interchange simple.
        Think of it like RSS for financial information.
      </p>

      <p>
        The SimpleFIN standard defines:
      </p>

      <ol>
        <li><a href="#data-format">SimpleFIN data format</a></li>
        <li><a href="#http-protocol">SimpleFIN HTTP protocol</a></li>
        <li><a href="#recommendations">Recommendations for token management</a></li>
      </ol>

      <p>You should use SimpleFIN because:
        <ul>
          <li>All access is read-only.</li>
          <li>You can read and comprehend the spec in a single day.</li>
          <li>You don't have to pay anyone to use it (ahem, QFX).</li>
        </ul>
      </p>

      <p>SimpleFIN data may be obtained either directly from a financial
        institution <em>or</em> from a third party that previously obtained
        the original data from a financial institution.  In other words,
        both banks and financial aggregation services may provide SimpleFIN
        data and sevices.
      </p>
    </div>
  </div>

  <div class="row-fluid section">
    <div class="content span8 offset2">
      <a name="data-format"><h2>Data format</h2></a>

      <ul>
        <li>Data is encoded as JSON strings.</li>
        <li>All attributes are required unless otherwise noted.</li>
      </ul>

      <p>
        These objects are defined by SimpleFIN (more details below):
      </p>

      <ul>
        <li><a href="#organization">Organization</a></li>
        <li><a href="#account">Account</a></li>
        <li><a href="#transaction">Transaction</a></li>
        <li><a href="#account-set">Account Set</a></li>
      </ul>

      

      <div class="object">
        <a name="organization"><h3 class="object-name">Organization</h3></a>


        <h4>Example</h4>
        <div class="code-block">{
  "domain": "mybank.com",
  "sfin-url": "https://sfin.mybank.com/"
}</div>

        <h4>Attributes</h4>
        
        <div class="attr-def">
          <div class="row-fluid">
            <a name="organization-domain">
            <div class="span3 attr-name">domain</div>
            </a>
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description">The domain name of an organization with financial data.</div>
              
              <div class="attr-example code-block">"example.com"</div>
              
            </div>
          </div>
        </div>
      

        
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">sfin-url</div>
            
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              <div class="attr-optional">optional</div>
              <div class="attr-description">URL of organization's SimpleFIN root endpoint.  If provided,
            the domain of the URL must match <a href="#organization-domain" class="attr-name">domain</a>.</div>
              
              <div class="attr-example code-block">"https://www.example.com/sfin/"</div>
              
            </div>
          </div>
        </div>
      

      </div>

      <div class="object">
        <a name="account"><h3 class="object-name">Account</h3></a>


        <h4>Example</h4>
          <div class="code-block">{
  "org": {
    "domain": "mybank.com",
    "sfin-url": "https://sfin.mybank.com/"
  },
  "id": "2930002",
  "name": "Savings",
  "currency": "USD",
  "balance": "100.23",
  "available-balance": "75.23",
  "last-transaction-id": "AO334",
  "transactions": [
    {
      "id": "AO334",
      "posted": "1995-02-17T23:56:12.22239",
      "amount": "-33293.43",
      "description": "Uncle Frank's Bait Shop",
    }
  ]
}</div>

          <h4>Attributes</h4>
          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">org</div>
            
            <div class="span9">
              <div><span class="attr-type"><a href="#organization">Organization</a></span></div>
              
              <div class="attr-description">Organization from which
              this account originates.  If this is a bank account,
              this field will be the bank's organization.</div>
              
              <div class="attr-example code-block">{
  "domain": "example.com",
  "sfin-url": "https://www.example.com/sfin/"
}</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">id</div>
            
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description">An ID that uniquely identifies an account within the
              account's organization.  It is recommended that this
              id be chosen such that it does not reveal
              any sensitive data (login information for the bank's
              web banking portal, for instance).</div>
              
              <div class="attr-example code-block">"123"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">name</div>
            
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description">A name that uniquely describes an account among all the
              users other accounts.
              This name should be chosen so that a person can easily associate
              it with only one of their accounts within an organization.</div>
              
              <div class="attr-example code-block">"Money-Market Checking"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">currency</div>
            
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description">Currency of account.
              TODO: find list of acceptable values.
              TODO: Allow for custom currencies (for rewards points, for instance).</div>
              
              <div class="attr-example code-block">"GBP"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">balance</div>
            
            <div class="span9">
              <div><span class="attr-type">numeric string</span></div>
              
              <div class="attr-description">The balance of the account as of
              <code class="nobr">last-transaction-id</code>.</div>
              
              <div class="attr-example code-block">"22.33"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">available-balance</div>
            
            <div class="span9">
              <div><span class="attr-type">numeric string</span></div>
              <div class="attr-optional">optional</div>
              <div class="attr-description">The available balance of the account as of
              <code class="nobr">last-transaction-id</code>.  This
              may be omitted if it is the same as <code>balance</code>.</div>
              
              <div class="attr-example code-block">"15.33"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">last-transaction-id</div>
            
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description">ID of the most recently recorded Transaction on this
              account.</div>
              
              <div class="attr-example code-block">"83940394098343ABCFKDSDF89"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">transactions</div>
            
            <div class="span9">
              <div><span class="attr-type">list of <a href="#transaction">Transactions</a></span></div>
              <div class="attr-optional">optional</div>
              <div class="attr-description">List of <a href="#transaction">Transactions</a> for
              this account.</div>
              
              <div class="attr-example code-block">[{
  "id": "AO334",
  "posted": "2001-01-01T09:22:33.2343",
  "amount": "-22.33",
  "memo": "John's Pizza Pie Cafe and Spa",
  "sic": "2354"
}]</div>
              
            </div>
          </div>
        </div>
      
        </div>

          <a name="transaction"><h3>Transaction</h3></a>

          <h4>Example</h4>

          <div class="code-block">{
  "id": "12394832938403",
  "posted": "1995-02-17T23:56:12.22239",
  "amount": "-33293.43",
  "description": "Uncle Frank's Bait Shop",
}</div>


          <h4>Attributes</h4>

          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">id</div>
            
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description">An ID that uniquely describes a transaction within an
              Account.  An organization may reuse transaction ids
              for different accounts, but may never reuse a
              transaction id within an account.</div>
              
              <div class="attr-example code-block">"9990203-3840394"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">posted</div>
            
            <div class="span9">
              <div><span class="attr-type">ISO string timestamp</span></div>
              
              <div class="attr-description">This is when the transaction happened.
              The timezone must be GMT.</div>
              
              <div class="attr-example code-block">"2015-01-01T10:00:03.23434"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">amount</div>
            
            <div class="span9">
              <div><span class="attr-type">numeric string</span></div>
              
              <div class="attr-description">Amount of transaction.  Positive numbers indicate money
              being deposited into the account.</div>
              
              <div class="attr-example code-block">"90.28"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">description</div>
            
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description">A human-readable description of what the transaction was for.</div>
              
              <div class="attr-example code-block">"Bob's Grocery Store - 22 S. Main"</div>
              
            </div>
          </div>
        </div>
      

          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">sic</div>
            
            <div class="span9">
              <div><span class="attr-type">string</span></div>
              
              <div class="attr-description">RESERVED</div>
              
            </div>
          </div>
        </div>
      


          <a name="account-set"><h3>Account Set</h3></a>

          <h4>Example</h4>

          <div class="code-block">{
  "accounts": [
    {
      "org": {
        "domain": "mybank.com",
        "sfin-url": "https://sfin.mybank.com/"
      },
      "id": "2930002",
      "name": "Savings",
      "currency": "USD",
      "balance": "100.23",
      "available-balance": "75.23",
      "last-transaction-id": "AO334",
      "transactions": []
    }
  ]
}</div>

          <h4>Attributes</h4>

          
        <div class="attr-def">
          <div class="row-fluid">
            
            <div class="span3 attr-name">accounts</div>
            
            <div class="span9">
              <div><span class="attr-type">list of <a href="#account">Accounts</a></span></div>
              
              <div class="attr-description">A list of <a href="#account">Account</a> objects.  Order does
              not matter.</div>
              
            </div>
          </div>
        </div>
      
    </div>
  </div>


  <div class="row-fluid section">
    <div class="content span8 offset2">
      <a name="http-protocol"><h2>HTTP Protocol</h2></a>

      <h4>Players</h4>

      <dl>
        <dt>The Company</dt>
        <dd>
          This is a bank or other institution that people have accounts with.
        </dd>
        
        <dt>Server</dt>
        <dd>
          An HTTP server operated by <span class="term">The Company</span>.  The <span class="term">Server</span> must require SSL for all communication with both the <span class="term">Browser</span> and the <span class="term">Reader</span>.  Connection attempts not
          over SSL must be dropped -- they must not be redirected to SSL.
        </dd>
        
        <dt>Account holder</dt>
        <dd>
          This is a person (or business) that has an account with <span class="term">The Company</span>.
        </dd>
        
        <dt>Browser</dt>
        <dd>
          A web browser being used by an <span class="term">Account holder</span>.
        </dd>
        
        <dt>Reader</dt>
        <dd>
          A <span class="term">Reader</span> is a piece of software that connects to a <span class="term">Server</span> to retrieve financial information pertaining to an <span class="term">Account holder</span>.  The <span class="term">Reader</span> may be a web app or a locally-run application.  The <span class="term">Reader</span> <strong>only</strong> has read access to the <span class="term">Server</span>.  The <span class="term">Reader</span> <strong>can not</strong> alter the financial data on the <span class="term">Server</span> in any way.
        </dd>

      </dl>

      <h4>Pieces</h4>

      <dl>
        <dt>Access token</dt>
        <dd>
          An <span class="term">Access token</span> is the string used by the <span class="term">Reader</span> to authenticate with the <span class="term">Server</span>.  See <a href="#access-token" class="term">Access token</a> for details.
        </dd>

        <dt>Setup token</dt>
        <dd>
          A <span class="term">Setup token</span> is the token given to the <span class="term">Reader</span> by the <span class="term">Account holder</span>.  It includes an <span class="term">Access token</span>.  See <a href="#setup-token" class="term">Setup token</a> for more details.
        </dd>
      </dl>


      <h4>Overview</h4>

      <p>
        Here is an overview of how the SimpleFIN protocol works:
      </p>

      <ol>
        <li>
          The <span class="term">Account holder</span> uses a <span class="term">Browser</span> to visit the <span class="term">Server</span>, authenticate, and generate a new <span class="term">Setup token</span>.
        </li>
        
        <li>
          The <span class="term">Account holder</span> gives the <span class="term">Setup token</span> to the <span class="term">Reader</span>.  The <span class="term">Reader</span> extracts the <span class="term">Access token</span> from the <span class="term">Setup token</span>.
        </li>

        <li>
          The <span class="term">Reader</span> connects to the <span class="term">Server</span> (authenticating with the <span class="term">Access token</span>) and requests some portion of the <span class="term">Account holder's</span> financial information.
        </li>

        <li>
          The <span class="term">Reader</span> reuses the <span class="term">Access token</span> until it expires or is otherwise rendered invalid.
        </li>
      </ol>

      <a name="access-token"><h4>Access token</h4></a>

      <ul>
        <li>
          Access tokens must be at least 40 characters in length.  <span class="term">The Company</span> may choose the length of token for their <span class="term">Server</span>.
        </li>

        <li>
          Access tokens must be made up of only the following set of characters:
          <div class="code-block">abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-</div>
        </li>

        <li>
          Access tokens must be mostly random.  Ideally, the token will be completely random.
        </li>

        <li>
          Access tokens must not be based on, or have the potential to reveal <span class="term">Account holder</span> credentials for <span class="term">The Company</span>.  A stolen <span class="term">Access token</span> should not reveal anything to the attacker which would allow the attacker to access the <span class="term">Account holder's</span> account (other than through the SimpleFIN protocol).
        </li>
      </ul>

      <a name="setup-token"><h4>Setup token</h4></a>

      <p>
        Setup tokens are Base64 encoded strings containing the URL for a <span class="term">Server's</span> SimpleFIN root URL and an <a href="#access-token">Access token</a>.  Here is a generic code description of the format:
      </p>

      <div class="code-block">base64encode(sfin_url + '\n' + access_token)</div>

      
      
      <p>
        For example, if my <span class="term">Server's</span> SimpleFIN root URL is:
      </p>
      <div class="code-block">https://sfin.example.com/foo/bar</div>
      <p>
        and I have generated this <span class="term">Access token</span>:
      </p>
      <div class="code-block">18KadNuTXEnCS97rt3PGT9UjTVvL2PvochYN-Dhc</div>

      <p>
        then the decoded <span class="term">Setup token</span> is:
      </p>
      <div class="code-block">https://sfin.example.com/foo/bar
18KadNuTXEnCS97rt3PGT9UjTVvL2PvochYN-Dhc</div>

      <p>
        and the Base64 encoded <span class="term">Setup token</span> is:
      </p>
      <div class="code-block">aHR0cHM6Ly9zZmluLmV4YW1wbGUuY29tL2Zvby9iYXIKMThLYWROdVRYRW5DUzk3cnQzUEdUOVVq
VFZ2TDJQdm9jaFlOLURoYw==
</div>


      <h4>URL Endpoints</h4>

      <p>
        <span class="term">The Company</span> may choose the root URL for their <span class="term">Server</span>.  The URLs defined here are relative to the root URL.  The <span class="attr-name">sfin-url</span> attribute of the <a href="#organization">Organization</a> object is the root URL.
      </p>

      

      
      <div class="row-fluid url-endpoint">
        <div class="span3 url">
          GET /auth
        </div>
        <div class="span9 description">
          
        Returns an HTML page that the <span class="term">Account holder</span> can use to manage <span class="term">Access Tokens</span>.
        This URL is used by the <span class="term">Browser</span>.
        </div>
      </div>
      

      
      <div class="row-fluid url-endpoint">
        <div class="span3 url">
          GET /accounts
        </div>
        <div class="span9 description">
          
        Returns a list of available <a href="#account">Accounts</a>.
        This URL is used by the <span class="term">Reader</span>.
        </div>
      </div>
      

      <p>
        Following are the details of each of the above URLs:
      </p>


      <a name="/auth"><h3 class="url">GET /auth</h3></a>

      XXX TODO
      
      <a name="/accounts"><h3 class="url">GET /accounts</h3></a>

      <p>
        Returns an <a href="#account-set">Account Set</a> containing all accounts the requester is authorized to see.
      </p>

      <ul>
        <li>
          The <span class="code">Content-Type</span> of the response is always <span class="code">application/json</span>.
        </li>
        <li>
          If no query paramters are included in a request, then all the <span class="attr-name">transactions</span> attributes of the accounts will be empty lists.
        </li>
      </ul>

      <a name="authentication"><h4>Authentication</h4></a>

      <p>
        HTTP Bearer Authentication is used.  In every request, the client
        sends an <span class="code">Authentication</span> header of the format:
      </p>

      <div class="code-block">Authentication: Bearer ACCESS_TOKEN</div>

      <p>
        where <span class="code">ACCESS_TOKEN</span> is an <a href="#access-token">Access token</a>
      </p>

      <h4>Optional query parameters</h4>

      


      
      <div class="row-fluid query-param">
        <div class="span3 code">
          start-date
        </div>
        <div class="span9">
          <div class="description">
        If given, transactions <em>on or after</em> the supplied date or timestamp will be included in the response.
      </div>
          
          <div class="example code-block">?start-date=2001-05-15</div>
          
          <div class="example code-block">?start-date=2001-05-15T09:08:35.234</div>
          
        </div>
      </div>
      

      
      <div class="row-fluid query-param">
        <div class="span3 code">
          end-date
        </div>
        <div class="span9">
          <div class="description">
        If given, only transactions <em>before</em> the supplied date or timestamp will be returned.  Transactions with a <span class="attr-name">posted</span> date equal to this date/timestamp will <em>not</em> be returned.

        For instance, querying for
        <div class="example code-block">?start-date=2001-05-01&end-date=2001-06-01</div>
        will return all transactions from May, 2001.
      </div>
          
        </div>
      </div>
      

      <h4>Sample response body</h4>

      <div class="code-block">{
  "accounts": [
    {
      "org": {
        "domain": "mybank.com",
        "sfin-url": "https://sfin.mybank.com/"
        },
      "id": "2930002",
      "name": "Savings",
      "currency": "USD",
      "balance": "100.23",
      "available-balance": "75.23",
      "last-transaction-id": "AO334",
    }
  ]
}</div>

      <h4>Errors</h4>

      <p>
        Following are possible error responses:
      </p>

      

      
      <div class="row-fluid error-response">
        <div class="span3 code">
          403 Forbidden
        </div>
        <div class="span9">
          
        If the requester is not authenticated or an invalid token is used.
      
        </div>
      </div>
      

      
      <div class="row-fluid error-response">
        <div class="span3 code">
          410 Gone
        </div>
        <div class="span9">
          
        If <span class="url">start-date</span> specifies a date for which
        transaction data is no longer available (or was never available).
      
        </div>
      </div>
      

    </div>
  </div>


  <div class="row-fluid section">
    <div class="content span8 offset2">

      <a name="recommendations"><h2>Recommendations</h2></a>

      <p>
        It is <em>recommended</em> that <span class="term">Account holders</span> have the following abilities regarding token management:
      </p>

      <ol>
        <li>
          Users can associate user-provided names with tokens (e.g. "This is the token being used by example.com").
        </li>
        <li>
          Users can create many tokens (for providing to multiple third party services).
        </li>
        <li>
          Users can choose an expiration date for tokens when creating them.
        </li>
        <li>
          Users can manually invalidate/expire existing tokens at
          will.  This is useful in the case of stolen tokens or abuse
          by third parties to whom tokens were given.
        </li>
      </ol>

      <p>
        Additionally, consider the following when implementing a token
        management system:
      </p>

      <ol>
        <li>
          It may be nice to notify users prior to token expiration.
        </li>
        <li>
          It may be nice to allow users to temporarily disable all tokens and later re-enable them.  This can be used to prevent access while doing research into abuse.
        </li>
        <li>
          Consider providing logging/audit information regarding token use, including the time tokens were used and the IPs from which requests came.
        </li>
        <li>
          Allow tokens to be associated with a subset of available accounts.  For instance, allow the user to create one token for access to just their checking account, and another token for access to just their savings account.
        </li>
      </ol>

    </div>
  </div>
</div>
